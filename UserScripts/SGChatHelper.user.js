// ==UserScript==
// @name        SGChatHelper
// @namespace   https://twitter.com/11powder
// @description 装飾タグの入力を簡単にする
// @include     http://st.x0.to/?mode=chat*
// @version     1.0.0
// @updateURL   https://pejuta.github.io/IbaraUtilities/UserScripts/SGChatHelper.user.js
// @downloadURL https://pejuta.github.io/IbaraUtilities/UserScripts/SGChatHelper.user.js
// @grant       none
// ==/UserScript==
!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){t.exports='<div class="TagHelper">\r\n<span class="TagF"> F </span><span class="TagB"> B </span><span class="TagI"> I </span><span class="TagS"> S </span><span class="TagU"> U </span><span class="TagDice">&#x1f3b2;</span>\r\n</div>'},function(t,e,n){var i=n(2);"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(4)(i,s);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(3)(!1)).push([t.i,'@charset "utf-8";\r\n\r\n.TagHelper {\r\n    position: absolute;\r\n    width: 280px;\r\n    height: 20px;\r\n    z-index: 100;\r\n    display: none;\r\n}\r\n.TagHelper > span {\r\n    background: radial-gradient(#fff0dc,#fff0dc);\r\n    display: inline-block;\r\n    width: 40px;\r\n    height: 100%;\r\n    text-align: center;\r\n    line-height: 1em;\r\n    font-size: 20px;\r\n    white-space: pre;\r\n}\r\n.TagHelper > span:hover {\r\n    background: radial-gradient(#fff0dc,#fff0dc);\r\n}\r\n.TagF {\r\n    position: relative;\r\n}\r\n.TagF:after {\r\n    content:"F";\r\n    font-size: 11px;\r\n    line-height: 11px;\r\n    position: absolute;\r\n    left: 22px;\r\n    top: 7px;\r\n}\r\n.TagB {\r\n    font-weight: bold;\r\n}\r\n.TagI {\r\n    font-style: italic;\r\n}\r\n.TagS {\r\n    text-decoration: line-through;\r\n}\r\n.TagU {\r\n    text-decoration: underline;\r\n}\r\n.TagDice {\r\n}\r\n',""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var s=(o=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(r).concat([s]).join("\n")}var o;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},s=0;s<this.length;s++){var r=this[s][0];null!=r&&(i[r]=!0)}for(s=0;s<t.length;s++){var o=t[s];null!=o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){var i,s,r={},o=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=i.apply(this,arguments)),s}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=a.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),c=null,u=0,h=[],d=n(5);function f(t,e){for(var n=0;n<t.length;n++){var i=t[n],s=r[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(v(i.parts[o],e))}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(v(i.parts[o],e));r[i.id]={id:i.id,refs:1,parts:a}}}}function g(t,e){for(var n=[],i={},s=0;s<t.length;s++){var r=t[s],o=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[o]?i[o].parts.push(a):n.push(i[o]={id:o,parts:[a]})}return n}function p(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=h[h.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),h.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(t.insertAt.before,n);n.insertBefore(e,s)}}function S(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=h.indexOf(t);e>=0&&h.splice(e,1)}function T(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return b(e,t.attrs),p(t,e),e}function b(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function v(t,e){var n,i,s,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var o=u++;n=c||(c=T(e)),i=y.bind(null,n,o,!1),s=y.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",b(e,t.attrs),p(t,e),e}(e),i=w.bind(null,n,e),s=function(){S(n),n.href&&URL.revokeObjectURL(n.href)}):(n=T(e),i=E.bind(null,n),s=function(){S(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else s()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=g(t,e);return f(n,e),function(t){for(var i=[],s=0;s<n.length;s++){var o=n[s];(a=r[o.id]).refs--,i.push(a)}t&&f(g(t,e),e);for(s=0;s<i.length;s++){var a;if(0===(a=i[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var m,x=(m=[],function(t,e){return m[t]=e,m.filter(Boolean).join("\n")});function y(t,e,n,i){var s=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,s);else{var r=document.createTextNode(s),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(r,o[e]):t.appendChild(r)}}function E(t,e){var n=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function w(t,e,n){var i=n.css,s=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&s;(e.convertToAbsoluteUrls||r)&&(i=d(i)),s&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var o=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var s,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(s=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(t,e,n){"use strict";n.r(e);const i={"&":"&amp;","'":"&#x27;",'"':"&quot;","`":"&#x60;","<":"&lt;",">":"&gt;"},s=new RegExp(`[${Object.keys(i).join("")}]`,"g");function r(t){return t.replace(s,t=>i[t])}const o=function t(e){const n=Object.getOwnPropertyNames(e);for(const i of n){const n=e[i];e[i]=n&&"object"==typeof n?t(n):n}return Object.freeze(e)}({F:{pattern:"F(?=\\d)",tagName:"span"},B:{pattern:"B",tagName:"b"},I:{pattern:"I",tagName:"i"},S:{pattern:"S",tagName:"s"},U:{pattern:"U",tagName:"u"}});let a=0;const l=[];for(const t in o)if(o.hasOwnProperty(t)){const e=o[t].pattern;a=e.length,l.push(e)}const c=a+1,u=l.join("|"),h="(?:"+u+")[1-7]?";new RegExp(r("<"+("("+u+")([1-7]?)")+">(.*?)</\\1\\2>"),"ig");const d=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");function f(t,e,n,i){t.focus(),d?(t.setRangeText(e,n,i,"end"),$(t).trigger("input")):(t.setSelectionRange(n,i),document.execCommand("insertText",!1,e))}const g=new RegExp("<("+h+")>","gi"),p=new RegExp("</("+h+")>","gi"),S=new RegExp("<?("+h+")>?$","i"),T=new RegExp("</("+h+")>$","i"),b=new RegExp("</?([^>]{0,"+c+"}?)$"),v=new RegExp(h,"i");class m{constructor(){}enable(t,e){const n=this,i=function(t){n.autoCompleteTag(this,t)};return e?$(t).on("keydown",e,i):$(t).on("keydown",i),this}autoCompleteTag(t,e){if(9===e.keyCode){if(e.preventDefault(),t.selectionEnd&&t.selectionStart!==t.selectionEnd)return;if(this.insertOrnamentTags(t))return;this.insertLastUnclosedTagEnd(t)}else"/"===e.key&&this.completeLastUnclosedTagEnd(t)&&e.preventDefault()}insertOrnamentTags(t){if("number"!=typeof t.selectionStart)return!1;if(t.selectionEnd&&t.selectionStart!==t.selectionEnd)return!1;const e=t.selectionStart,n=t.value.slice(0,e),i=t.value.slice(e),s=S.exec(n);if(!s)return!1;if(T.test(n))return!1;if(/^<[^<>]+?>$/.test(s[0]))return!1;const r=b.exec(n);if(r){const t=new RegExp("^([^<]{0,"+(c-r[1].length)+"}?)>").exec(i);if(t){if(v.test(r[1]+t[1]))return!1}}f(t,"<"+s[1]+"></"+s[1]+">",e-s[0].length,e);const o=e-s[0].length+s[1].length+2;return t.setSelectionRange(o,o),!0}insertLastUnclosedTagEnd(t){if("number"!=typeof t.selectionStart)return!1;if(t.selectionEnd&&t.selectionStart!==t.selectionEnd)return!1;const e=t.selectionStart,n=t.value.slice(0,e),i=t.value.slice(e),s=this.findUnclosedTags(n,i);return 0!==s.length&&(f(t,"</"+s[s.length-1]+">",e,e),!0)}findUnclosedTags(t,e){const n=t.match(g);if(!n)return[];const i=n.map((t,e)=>t.slice(1,t.length-1)),s=(t+e).match(p);if(!s)return i;const r=s.map((t,e)=>t.slice(2,t.length-1));for(let t=r.length-1;t>=0;t--)for(let e=i.length-1;e>=0;e--)if(r[t]===i[e]){i.splice(e,1);break}return i}completeLastUnclosedTagEnd(t){if("number"!=typeof t.selectionStart)return!1;if(t.selectionStart<=0||t.selectionStart!==t.selectionEnd)return!1;const e=t.selectionStart,n=t.value.slice(0,e),i=t.value.slice(e);if("<"!==n[e-1])return!1;const s=this.findUnclosedTags(n,i);return 0!==s.length&&(f(t,"/"+s[s.length-1]+">",e,e),!0)}}var x=n(0),y=n.n(x);function E(t,e,n){let i,s=void 0;n?(i=n,s=e):i=e;const r=function(t,...e){return"touchstart"===t.type&&t.preventDefault(),i.apply(this,[t,...e])};return t.on({click:r,ontouchstart:r},s)}class w{constructor(t,e){if("number"==typeof t)this.start=t,this.end=e;else{const e=t;if(null===e.selectionStart||null===e.selectionEnd)throw new Error("invalid operation: selection start or end is null.");this.start=e.selectionStart,this.end=e.selectionEnd}}get length(){return this.end-this.start}offset(t,e){return new w(this.start+t,this.end+(null!=e?e:t))}select(t,e=0,n=0){t.setSelectionRange(this.start+e,this.end+n)}insertText(t,e){return f(t,e,this.start,this.end),w.build(t)}insertBackspace(t){let e,n;return this.start===this.end?(e=Math.max(this.start-1,0),n=this.start):(e=this.start,n=this.end),f(t,"",e,n),w.build(t)}static build(t){return null===t.selectionStart||null===t.selectionEnd?null:new w(t)}}n(1);class R{constructor(){this.$helper=this.$initTagHelper(),this.sElem=null,this.tagEndSelection=null,this.outerTagSelection=null,this.storedRelativeSelection=null,this.tagTabStops=null,this.hidingTimeoutId=0,this.hidingTimeoutMS=200}enable(t,e){const n=t=>{const e=t.currentTarget;e===this.sElem&&this.storedRelativeSelection&&this.storedRelativeSelection.start===e.selectionStart&&this.storedRelativeSelection.end===e.selectionEnd||(this.clearTagInsertedCondition(),this.setCurrentSelection(e)),this.show()};return E($(t),e,n).on({blur:t=>{this.setCurrentSelection(t.currentTarget),this.setHidingHelperTimeout()},mouseenter:t=>{this.sElem===t.currentTarget&&this.show()},mouseleave:t=>{this.sElem===t.currentTarget&&this.setHidingHelperTimeout()},keydown:t=>{if(!t.ctrlKey&&!t.altKey&&(8===t.keyCode||9===t.keyCode||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=65&&t.keyCode<=90||t.keyCode>=97&&t.keyCode<=122))return 9===t.keyCode?(t.preventDefault(),void this.selectNextTabStop()):void(this.storedRelativeSelection&&this.outerTagSelection&&(8===t.keyCode&&this.storedRelativeSelection&&0===this.storedRelativeSelection.end||(t.preventDefault(),8===t.keyCode?this.backspaceOnTag():this.insertCharOnTag(t.key))))},keyup:n},e),this}show(){if(!this.sElem)return;this.clearHidingHelperTimeout();const t=$(this.sElem).offset();this.$helper.css({left:t.left,top:t.top+$(this.sElem).outerHeight()}).show()}hide(){this.$helper.hide()}setHidingHelperTimeout(){this.hidingTimeoutId=setTimeout(()=>this.hide(),this.hidingTimeoutMS)}clearHidingHelperTimeout(){clearTimeout(this.hidingTimeoutId),this.hidingTimeoutId=0}insertTag(t,e,n=[]){if(!this.sElem||!this.storedRelativeSelection)return;let i,s;i=this.outerTagSelection?e?this.outerTagSelection:new w(this.outerTagSelection.end,this.outerTagSelection.end):this.storedRelativeSelection,s=e?`<${t}>`+this.sElem.value.slice(i.start,i.end)+`</${t}>`:`<${t}>`,f(this.sElem,s,i.start,i.end);const r=0===n.length?0:n[0].startIndex,o=0===n.length?0:n[0].selectLength;this.tagTabStops=R.offsetTabStops(n,i.start+1),this.outerTagSelection=new w(i.start,i.start+s.length),this.storedRelativeSelection=new w(i.start+r+1,i.start+r+1+o),e?(this.tagTabStops.push({startIndex:i.start+t.length+2+i.length,selectLength:0,callback:()=>this.outerTagSelection=this.tagEndSelection=null}),this.tagTabStops.push({startIndex:i.end+2*t.length+5,selectLength:0}),this.tagEndSelection=new w(i.end+t.length+r+4,i.end+t.length+r+4+o)):(this.tagTabStops.push({startIndex:i.start+t.length+2,selectLength:0,callback:()=>this.outerTagSelection=this.tagEndSelection=null}),this.tagEndSelection=null),this.selectNextTabStop()}backspaceOnTag(){if(this.sElem&&this.storedRelativeSelection&&this.outerTagSelection&&this.tagTabStops)if(this.tagEndSelection){const t=this.tagEndSelection;this.tagEndSelection=this.tagEndSelection.insertBackspace(this.sElem);const e=this.tagEndSelection.start-t.end;this.tagTabStops=R.filterTabStopsAfterInsertingText(this.tagTabStops,this.tagEndSelection.start,t.length,t.length+e),this.outerTagSelection=this.outerTagSelection.offset(0,2*e),this.storedRelativeSelection=this.storedRelativeSelection.insertBackspace(this.sElem),this.tagEndSelection=this.tagEndSelection.offset(e),this.tagTabStops=R.filterTabStopsAfterInsertingText(this.tagTabStops,this.storedRelativeSelection.start,-e)}else{const t=this.storedRelativeSelection;this.storedRelativeSelection=this.storedRelativeSelection.insertBackspace(this.sElem);const e=this.storedRelativeSelection.start-t.end;this.tagTabStops=R.filterTabStopsAfterInsertingText(this.tagTabStops,this.storedRelativeSelection.start,t.length,t.length+e),this.outerTagSelection=this.outerTagSelection.offset(0,e)}}insertCharOnTag(t){if(this.sElem&&this.storedRelativeSelection&&this.outerTagSelection&&this.tagTabStops)if(this.tagEndSelection){const e=this.tagEndSelection;this.tagEndSelection=this.tagEndSelection.insertText(this.sElem,t);const n=this.tagEndSelection.start-e.end;this.tagTabStops=R.filterTabStopsAfterInsertingText(this.tagTabStops,this.tagEndSelection.start,e.length,e.length+n),this.outerTagSelection=this.outerTagSelection.offset(0,2*n);const i=this.storedRelativeSelection.length;this.storedRelativeSelection=this.storedRelativeSelection.insertText(this.sElem,t),this.tagEndSelection=this.tagEndSelection.offset(n),this.tagTabStops=R.filterTabStopsAfterInsertingText(this.tagTabStops,this.storedRelativeSelection.start,i,i+n)}else{const e=this.storedRelativeSelection;this.storedRelativeSelection=this.storedRelativeSelection.insertText(this.sElem,t);const n=this.storedRelativeSelection.start-e.end;this.tagTabStops=R.filterTabStopsAfterInsertingText(this.tagTabStops,this.storedRelativeSelection.start,e.length,e.length+n),this.outerTagSelection=this.outerTagSelection.offset(0,n)}}selectOuterTagEnd(){this.sElem&&this.outerTagSelection&&this.sElem.setSelectionRange(this.outerTagSelection.end,this.outerTagSelection.end)}$initTagHelper(){return E($(y.a).appendTo(document.body),"span",t=>{if(t.preventDefault(),!this.sElem)return;let e,n;this.clearHidingHelperTimeout();let i=[];switch(t.currentTarget.className){case"TagF":e="f3",n=!0,i=[{startIndex:1,selectLength:1}];break;case"TagB":e="b",n=!0,i=[{startIndex:1,selectLength:0}];break;case"TagI":e="i",n=!0,i=[{startIndex:1,selectLength:0}];break;case"TagS":e="s",n=!0,i=[{startIndex:1,selectLength:0}];break;case"TagU":e="u",n=!0,i=[{startIndex:1,selectLength:0}];break;case"TagDice":e="d6",n=!1,i=[{startIndex:0,selectLength:0},{startIndex:1,selectLength:1}];break;default:throw new Error("not implemented")}this.insertTag(e,n,i),$(this.sElem).triggerHandler("keyup")}).on("mouseenter",t=>{this.clearHidingHelperTimeout()}).on("mouseleave",t=>{this.setHidingHelperTimeout()})}updateCurrentSelection(){this.sElem&&this.storedRelativeSelection&&(this.storedRelativeSelection=w.build(this.sElem))}setCurrentSelection(t){this.sElem=t,this.storedRelativeSelection=w.build(t)}clearTagInsertedCondition(){this.tagTabStops=null,this.tagEndSelection=null,this.outerTagSelection=null}selectNextTabStop(){if(!this.sElem||!this.tagTabStops)return;if(0===this.tagTabStops.length)return;const t=this.tagTabStops.shift(),e=t.startIndex,n=e+t.selectLength;this.sElem.setSelectionRange(e,n),this.storedRelativeSelection=new w(e,n),t.callback&&t.callback()}static offsetTabStops(t,e,n=-1){return t.forEach(t=>{t.startIndex+t.selectLength<=n||(t.startIndex+=e)}),t}static filterTabStopsAfterInsertingText(t,e,n=0,i=0){const s=[];return t.forEach(t=>{const r=t.startIndex+t.selectLength;if(n>0)if(e>=r);else{if(!(e<=t.startIndex))return;t.startIndex-=n}if(i>0)if(e-i>=r);else{if(!(e-i<=t.startIndex))return;t.startIndex+=i}s.push(t)}),s}}(function(t,e,n,i){new(n||(n=Promise))((function(s,r){function o(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))})(void 0,void 0,void 0,(function*(){document.getElementById("text")&&((new R).enable(document.body,"textarea#text"),(new m).enable(document.body,"textarea#text"))}))}]);